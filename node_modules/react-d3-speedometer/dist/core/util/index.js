"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.sumArrayTill=sumArrayTill,exports.calculateSegmentStops=calculateSegmentStops,exports.calculateNeedleHeight=calculateNeedleHeight,exports.calculateSegmentLabelCount=calculateSegmentLabelCount,exports.calculateScale=calculateScale,exports.calculateTicks=calculateTicks,exports.formatCurrentValueText=formatCurrentValueText,exports.deg2rad=deg2rad,exports.centerTranslation=centerTranslation,exports.getRadius=getRadius;var _isNumber2=_interopRequireDefault(require("lodash-es/isNumber")),_sum2=_interopRequireDefault(require("lodash-es/sum")),_isEmpty=_interopRequireDefault(require("lodash-es/isEmpty")),_isArray=_interopRequireDefault(require("lodash-es/isArray")),_head2=_interopRequireDefault(require("lodash-es/head")),_last2=_interopRequireDefault(require("lodash-es/last")),_drop2=_interopRequireDefault(require("lodash-es/drop")),_times2=_interopRequireDefault(require("lodash-es/times")),_take2=_interopRequireDefault(require("lodash-es/take")),_d=require("d3");function sumArrayTill(a,b){return(0,_sum2["default"])((0,_take2["default"])(a,b))}function calculateSegmentStops(a){var b=a.tickData,c=a.customSegmentStops,d=a.min,e=a.max;if(!(0,_isArray["default"])(c)||(0,_isEmpty["default"])(c))return b;if((0,_head2["default"])(c)!==d)throw new Error("First value should be equivalent to min value given. Current min value - ".concat(d));if((0,_last2["default"])(c)!==e)throw new Error("Last value should be equivalent to max value given. Current min value - ".concat(e));var f=c.map(function(a,b){return 0===b?void 0:(a-c[b-1])/(e-d)});return(0,_drop2["default"])(f)}function calculateNeedleHeight(a){var b=a.heightRatio,c=a.radius;if(0>b||1<b)throw new Error("Invalid needleHeightRatio given - ".concat(b));return Math.round(c*b)}function calculateSegmentLabelCount(a){var b=a.maxSegmentLabelCount,c=a.segmentCount,d=parseInt(b,10),e=parseInt(c,10);return(0,_isNumber2["default"])(d)&&0<=d&&d<=e?d:e}function calculateScale(a){var b=a.min,c=a.max,d=a.segments;return(0,_d.scaleLinear)().range([0,1]).domain([b,c])}function calculateTicks(a,b){var c=b.min,d=b.max,e=b.segments,f=[];f=a.ticks(e);var g=((0,_last2["default"])(f)!==d||e<f.length)&&1<f.length;if(g){f=[c],(0,_times2["default"])(e,function(a){f.push(c+(a+1)*((d-c)/e))})}return 1===f.length&&(f=[c,d]),f}function formatCurrentValueText(a,b){var c=b.labelFormat(a),d=b.currentValuePlaceholderStyle;return b.currentValueText.replace(d,c)}function deg2rad(a){return a*Math.PI/180}function centerTranslation(a,b,c){return"translate(".concat(a+b,", ").concat(a+c,")")}function getRadius(a){return a.width/2}